
---

### **Задание на учебную практику по дисциплине «Технология разработки и защиты баз данных»**

**1. Тема практики:** Разработка и защита реляционной базы данных «Информационная система книжного магазина».

**2. Цель практики:** Закрепление и углубление теоретических знаний, полученных при изучении SQL и основ проектирования БД, а также приобретение практических навыков по полному циклу создания защищенной базы данных: от концептуального моделирования до реализации и администрирования.

**3. Задача:** Спроектировать, реализовать, наполнить и обеспечить защиту реляционной БД для автоматизации процессов книжного магазина.

**4. Объем работы и сроки:** Практика рассчитана на **18 аудиторных занятий (пар)**. Выполнение работы осуществляется последовательно, каждый этап является основой для следующего.

---

### **Детальный план-график выполнения работы**

#### **Этап 1: Проектирование (Пары 1-4)**

*   **Пара 1-2:** **Анализ предметной области и концептуальное проектирование.**
    *   Задача: Описать сущности, их атрибуты и связи для предметной области "Книжный магазин".
    *   Результат: Концептуальная модель (ER-диаграмма), выполненная в нотации "Сущность-Связь" (например, в draw.io, Dia или специализированном ПО). Минимальный набор сущностей: `Книги`, `Авторы`, `Жанры`, `Клиенты`, `Заказы`, `Склады`.
    *   *Пример: Сущность "Книги" имеет атрибуты: ID_книги, Название, ISBN, Год_издания, Цена, ID_автора, ID_жанра, ID_склада, Кол-во_на_складе.*

*   **Пара 3-4:** **Логическое и физическое проектирование.**
    *   Задача: Преобразовать ER-модель в реляционную схему. Нормализовать таблицы как минимум до 3НФ. Определить типы данных, первичные и внешние ключи, индексы.
    *   Результат: Готовая схема БД (список таблиц с полями, типами данных и связями) в виде SQL-скрипта.

#### **Этап 2: Реализация и Наполнение (Пары 5-10)**

*   **Пара 5:** **Создание объектов БД.**
    *   Задача: Написать SQL DDL-скрипт для создания всех таблиц, ограничений (PRIMARY KEY, FOREIGN KEY, UNIQUE, CHECK) и индексов.
    *   Результат: Выполненный скрипт в СУБД (например, PostgreSQL, MySQL). Убедиться, что все связи созданы корректно.

*   **Пара 6-7:** **Наполнение БД тестовыми данными.**
    *   Задача: Создать и выполнить DML-скрипт (INSERT) для наполнения всех таблиц реалистичными данными. Каждая таблица должна содержать не менее **10-15 записей**. Данные должны быть согласованы (например, в заказах должны быть ID существующих клиентов и книг).
    *   Результат: Полностью наполненная база данных.

*   **Пара 8-10:** **Написание запросов (DQL).**
    *   Задача: Составить и выполнить набор SQL-запросов различной сложности для выборки данных:
        *   Простые SELECT с WHERE, ORDER BY.
        *   JOIN (INNER, LEFT/RIGHT) минимум по 3 таблицам.
        *   Агрегирующие функции (COUNT, SUM, AVG) с GROUP BY и HAVING.
        *   Подзапросы (коррелированные и некоррелированные).

#### **Этап 3: Программирование и Оптимизация (Пары 11-14)**

*   **Пара 11-12:** **Создание представлений (VIEW) и хранимых процедур/функций.**
    *   Задача:
        1.  Создать не менее 3-х представлений (например, "Детали заказа", "Остатки на складе", "Top-5 самых продаваемых авторов").
        2.  Создать 2-3 хранимые процедуры для частых операций (например, `добавить_новый_заказ(...)`, `обновить_остатки_на_складе(...)`).
        3.  Создать 1-2 функции (например, функция расчета общей стоимости заказа по его ID).

*   **Пара 13-14:** **Триггеры и оптимизация.**
    *   Задача:
        1.  Создать триггеры для поддержания целостности данных (например, триггер на автоматическое уменьшение количества книг на складе при оформлении заказа).
        2.  Проанализировать выполнение сложных запросов с помощью `EXPLAIN` (или `EXPLAIN ANALYZE`) и попытаться оптимизировать их за счет изменения индексов или структуры запроса.

#### **Этап 4: Защита и Администрирование (Пары 15-18)**

*   **Пара 15-16:** **Администрирование и безопасность.**
    *   Задача:
        1.  Создать не менее 3-х ролей пользователей с разным уровнем доступа (например, `Менеджер` (полные права на чтение/запись), `Аналитик` (только чтение, доступ к представлениям), `Кассир` (право на выполнение процедуры `добавить_новый_заказ`).
        2.  Назначить права (GRANT) на конкретные объекты (таблицы, представления, процедуры) созданным ролям.
        3.  Создать пользователей и назначить им соответствующие роли.

*   **Пара 17:** **Резервное копирование и восстановление.**
    *   Задача: Написать скрипты (или использовать средства СУБД) для создания дампа (резервной копии) базы данных и ее последующего восстановления в новую БД. Убедиться, что данные и схема восстановились корректно.

*   **Пара 18:** **Подготовка отчета и защита проекта.**
    *   Задача: Оформить итоговый отчет по практике. Подготовить краткую презентацию (5-7 минут) с демонстрацией ключевых элементов проекта: схемы БД, примеров сложных запросов, работы триггеров/процедур, системы прав доступа.
    *   *Защита проводится в формате демонстрации работы БД и ответов на вопросы преподавателя.*

---

### **Требования к отчету:**

Отчет должен содержать:
1.  Титульный лист.
2.  Введение (цель и задачи практики).
3.  Описание предметной области.
4.  Концептуальная ER-диаграмма.
5.  Логическая схема БД (список таблиц с полями).
6.  Листинги ключевых SQL-скриптов (создание таблиц, примеры запросов, процедуры, триггеры, настройка прав).
7.  Результаты работы запросов (скриншоты).
8.  Выводы по практике (что изучили, с какими трудностями столкнулись).

### **Критерии оценки:**

*   **Качество проектирования** (нормализация, правильность связей).
*   **Полнота реализации** (выполнены ли все пункты плана).
*   **Корректность SQL-кода** (синтаксис, эффективность).
*   **Оригинальность и сложность** реализованных запросов и программных объектов.
*   **Качество защиты** (доклад, ответы на вопросы).
*   **Оформление отчета.**

**Удачи в выполнении задания!**